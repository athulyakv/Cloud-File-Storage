<!DOCTYPE html>
<html>
<head>
    <title>Cloud File Storage</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f4f9ff; text-align: center; padding: 30px; }
        h1 { color: #2b6cb0; }
        .dashboard { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); display: inline-block; }
        .stats { margin: 15px 0; font-size: 18px; }
        .btn { background: #2b6cb0; color: white; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; }
        .btn:hover { background: #1a4a7a; }
        .file-list { margin-top: 20px; }
        .file-item { background: #edf2f7; padding: 10px; border-radius: 8px; margin: 5px; }
        a { text-decoration: none; color: #2b6cb0; margin-left: 10px; }
        .flash { color: green; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>‚òÅÔ∏è Cloud File Storage</h1>
    <div class="dashboard">
        <div class="stats">
            <p><b>Total Files:</b> {{ count }}</p>
            <p><b>Storage Used:</b> {{ storage }} MB</p>
        </div>
        
        <form action="/upload" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" required>
            <button type="submit" class="btn">Upload</button>
        </form>
        
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="flash">{{ messages[0] }}</div>
          {% endif %}
        {% endwith %}

        <div class="file-list">
            <h3>üìÇ Stored Files</h3>
            {% for file in files %}
                <div class="file-item">
                    {{ file }}
                    <a href="/download/{{ file }}">‚¨áÔ∏è Download</a>
                    <a href="/delete/{{ file }}">üóëÔ∏è Delete</a>
                </div>
            {% else %}
                <p>No files uploaded yet.</p>
            {% endfor %}
        </div>
    </div>
</body>
</html>
